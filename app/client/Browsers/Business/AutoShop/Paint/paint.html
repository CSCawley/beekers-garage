<html>
	<meta charset="utf-8">
	<link rel="stylesheet" href="paint.css">
	<script src="../../../vue.js"></script>
	<script src="jscolor.js"></script>
	<body>
		<div id="app">

			<div class="b3-close" id="close-button" @click="exit">X</div>
			<h1>{{ titleText }}</h1>

			<div style="position:absolute; left:280px; top:10px;">
				toHEXString = <span id="hex-str"></span><br />
				toRGBString = <span id="rgb-str"></span><br />
				R, G, B = <span id="rgb"></span><br />
				H, S, V = <span id="hsv"></span>
			</div>
			<input class="jscolor {onFineChange:'update(this)'}" value="ffcc00">
		</div>
	</body>
</html>

<script>

	function update(picker) {
		document.getElementById('hex-str').innerHTML = picker.toHEXString();
		document.getElementById('rgb-str').innerHTML = picker.toRGBString();
		document.getElementById('rgb').innerHTML =
			Math.round(picker.rgb[0]) + ', ' +
			Math.round(picker.rgb[1]) + ', ' +
			Math.round(picker.rgb[2]);

		document.getElementById('hsv').innerHTML =
			Math.round(picker.hsv[0]) + '&deg;, ' +
			Math.round(picker.hsv[1]) + '%, ' +
			Math.round(picker.hsv[2]) + '%';
	}

	const app = new Vue({
		el: '#app',
		data: {
			titleText: "Paint Bay",
			prime: service.primeColor,
			second: service.secondaryColor,
		},



		methods: {
			changeCamRotation: function() {
				mp.trigger("cChangeHeading", this.camRotation); 
			},
			setPaint: function() {
				const paint = {
					primary: this.prime,
					secondary: this.second,
				}
				mp.trigger("cMisc-CallServerEvent", "sAutoShop-SetPaint", JSON.stringify(paint));
				this.exit()
			},
			exit: function() {
				mp.trigger("cCloseCefAndDestroyCam");
			}

		}
	})
</script>